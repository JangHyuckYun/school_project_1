<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Document</title>
	<link
	href="https://fonts.googleapis.com/css2?family=Do+Hyeon&display=swap"
	rel="stylesheet"
	/>
	<style>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
			font-family: "Do Hyeon", sans-serif;
			font-size: 16px;
		}

		body {
			background-color: #ffecc7;
		}

		header > h1 {
			text-align: center;
			padding: 20px;
			font-size: 4em;
		}

		h2 {
			text-align: center;
		}


		.gameResult > h1 {
			text-align: center;
			padding: 20px;
			font-size: 6em;
		}

		.choice {
			text-align: center;
		}

		#btnBox {display: none;}

		.btn {
			width: 8em;
			background-color: #85a392;
			border: none;
			color: #ffffff;
			padding: 15px 0;
			text-align: center;
			text-decoration: none;
			display: inline-block;
			margin: 4px;
			border-radius: 10px;
			cursor: pointer;
			font-size: 2em;
			margin: 0 auto;
		}

		@media (max-width: 480px) {
			header > h1 {
				padding: 2px;
				font-size: 3em;
			}
			.gameResult > h1 {
				padding: 20px;
				font-size: 4em;
			}
			.choice > button {
				width: 6em;
				font-size: 1.5em;
			}
		}

	</style>
	
	<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6Y11TYQWG5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-6Y11TYQWG5');
</script>
	
</head>
<body>
	<header>
		<h2><span class="score"></span></h2>
		<h1>ê°€ìœ„ë°”ìœ„ë³´ ê²Œìž„</h1>
	</header>

	<div class="gameResult">
		<h1></h1>
	</div>
	<div class="choice">
		<button id="startButton" class="btn" onclick="run()">ê²Œìž„ì‹œìž‘</button>
		<div id="btnBox">
			<button class="btn" onclick="TakeVal(this);">ê°€ìœ„</button>
			<button class="btn" onclick="TakeVal(this);">ë°”ìœ„</button>
			<button class="btn" onclick="TakeVal(this);">ë³´</button>
		</div>
	</div>

	<script>
		const RockPaperScissorsKoreanList = ["ë°”ìœ„", "ë³´", "ê°€ìœ„"];
		const RockPaperScissorsEmojiObject = { ë°”ìœ„: "âœŠ", ë³´: "ðŸ“ƒ", ê°€ìœ„: "âœ‚ï¸" };
		const one = v => document.querySelector(v);

		let 
		myChoice,
		computerChoice,
		human = 0,
		computer = 0;

		const run = (event) => { 
			computerChoice = getComputerChoice();

			one("#startButton").style.display = "none";
			one("#btnBox").style.display = "block";
		};

		TakeVal = txt => { // ì‚¬ìš©ìžì—ê²Œì„œ ê°’ ë°›ì•„ì˜¤ê¸°
			myChoice = txt.innerHTML.trim();
			check(`${myChoice} vs ${computerChoice}`);
		}

		getComputerChoice = _ => {// ì»´í“¨í„°ê°€ ë‚¸ê±¸ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜
			let random = Math.floor(Math.random() * 3);
			return RockPaperScissorsKoreanList[random];
		}

		check = txt => { //ìŠ¹ë¶€ë¥¼ ì•Œë ¤ì£¼ëŠ” í•¨ìˆ˜
			switch (txt) {
				case "ê°€ìœ„ vs ë³´":
				case "ë°”ìœ„ vs ê°€ìœ„":
				case "ë³´ vs ë°”ìœ„":
				human++;
				result(`${RockPaperScissorsEmojiObject[myChoice]} vs ${RockPaperScissorsEmojiObject[computerChoice]}<br> ìŠ¹ë¦¬`);
				break;

				case "ê°€ìœ„ vs ê°€ìœ„":
				case "ë°”ìœ„ vs ë°”ìœ„":
				case "ë³´ vs ë³´":
				result(`${RockPaperScissorsEmojiObject[myChoice]} vs ${RockPaperScissorsEmojiObject[computerChoice]}<br> ë¬´ìŠ¹ë¶€`);
				break;

				case "ê°€ìœ„ vs ë°”ìœ„":
				case "ë°”ìœ„ vs ë³´":
				case "ë³´ vs ê°€ìœ„":
				computer++;
				result(`${RockPaperScissorsEmojiObject[myChoice]} vs ${RockPaperScissorsEmojiObject[computerChoice]}<br> íŒ¨ë°°`);
				break;

				default:
				result("ìž˜ ëª» ìž…ë ¥í•˜ì…¨ë„¤ìš”!");
				break;
			}
		}

		result = txt => { //ê²°ê³¼ë¥¼ ì•Œë ¤ì£¼ëŠ” í•¨ìˆ˜
			const gameResultDiv = one(".gameResult");
			gameResultDiv.style.display = "block";
			gameResultDiv.querySelector("h1").innerHTML = txt;

			one(".score").innerHTML = `ìŠ¤ì½”ì–´: (player) ${human} : ${computer} (computer)`;
			one("#btnBox").style.display = "none";
			one("#startButton").style.display = "block";
			one("#startButton").innerHTML = 'ë‹¤ì‹œí•˜ê¸°';
		}
	</script>
</body>
</html>
